<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Villa Details - KhanelConcept</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0080ff, #00bcd4, #ff6b35);
            min-height: 100vh;
            color: white;
            padding: 2rem;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .villa-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .villa-name {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .villa-price {
            font-size: 2rem;
            color: #ff6b35;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .description {
            line-height: 1.8;
            margin: 2rem 0;
        }
        
        .amenities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .amenity {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
        }
        
        .loading {
            text-align: center;
            font-size: 1.5rem;
            padding: 4rem 0;
        }
        
        .error {
            text-align: center;
            color: #ff6b35;
            font-size: 1.2rem;
            padding: 4rem 0;
        }
        
        .back-btn {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 25px;
            margin-bottom: 2rem;
        }
        
        .reserve-btn {
            background: linear-gradient(135deg, #ff6b35, #e55a2b);
            color: white;
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            display: block;
            margin: 2rem auto;
            text-decoration: none;
            text-align: center;
            width: fit-content;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-btn">‚Üê Retour √† l'accueil</a>
        
        <!-- Loading -->
        <div id="loading" class="loading">
            ‚è≥ Chargement des d√©tails de la villa...
        </div>

        <!-- Villa Content -->
        <div id="villa-content" style="display: none;">
            <div class="villa-card">
                <h1 class="villa-name" id="villa-name"></h1>
                <div class="villa-price" id="villa-price"></div>
                <p id="villa-location"></p>
                <p id="villa-guests"></p>
                
                <div class="description" id="villa-description"></div>
                
                <div class="amenities" id="amenities"></div>
                
                <a href="#" class="reserve-btn" id="reserve-btn">üèñÔ∏è R√©server</a>
            </div>
        </div>

        <!-- Error -->
        <div id="error-state" class="error" style="display: none;">
            ‚ùå Villa non trouv√©e
            <br><br>
            <a href="/" class="back-btn">Retour √† l'accueil</a>
        </div>
    </div>

    <script>
        console.log("Script loaded!");
        
        // Villa data
        const villas = {
            1: {
                name: "Villa F3 Petit Macabou",
                location: "üìç Petit Macabou au Vauclin",
                price: "850‚Ç¨ /nuit",
                guests: "üë• 6 personnes + 9 invit√©s",
                description: "Magnifique villa F3 avec sauna et jacuzzi, parfaite pour un s√©jour de d√©tente en famille.",
                amenities: ["üèä Piscine", "üõÅ Jacuzzi", "üßñ‚Äç‚ôÄÔ∏è Sauna", "üç≥ Cuisine", "üì∂ WiFi", "‚ùÑÔ∏è Clim"]
            },
            2: {
                name: "Villa F5 Ste Anne",
                location: "üìç Sainte-Anne",
                price: "1300‚Ç¨ /nuit",
                guests: "üë• 10 personnes + 15 invit√©s",
                description: "Villa rose distinctive avec grande piscine et cuisine moderne.",
                amenities: ["üèä Grande piscine", "üç≥ Cuisine moderne", "üé® D√©co unique", "üì∂ WiFi", "‚ùÑÔ∏è Clim"]
            },
            22: {
                name: "Villa F6 Petit Macabou",
                location: "üìç Petit Macabou au Vauclin",
                price: "2000‚Ç¨ /nuit",
                guests: "üë• 10-13 personnes (14 max)",
                description: "Villa √©v√©nementielle d'exception avec 3 chambres, mezzanine et 2 studios. F√™tes autoris√©es jusqu'√† 150 convives.",
                amenities: ["üõèÔ∏è 3 chambres", "üè† Mezzanine", "üè° 2 studios", "üèä Piscine XXL", "üéâ F√™tes OK"]
            }
        };
        
        console.log("Villas data loaded:", villas);

        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded!");
            
            // Get villa ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const villaId = urlParams.get('id');
            
            console.log("Villa ID from URL:", villaId);
            console.log("Villa exists?", villas[villaId]);
            
            if (!villaId) {
                console.log("No villa ID found");
                showError();
                return;
            }
            
            if (!villas[villaId]) {
                console.log("Villa not found for ID:", villaId);
                showError();
                return;
            }

            console.log("Loading villa...");
            loadVilla(villas[villaId], villaId);
        });

        function loadVilla(villa, villaId) {
            console.log("loadVilla called with:", villa);
            
            try {
                // Update content
                document.getElementById('villa-name').textContent = villa.name;
                document.getElementById('villa-location').textContent = villa.location;
                document.getElementById('villa-price').textContent = villa.price;
                document.getElementById('villa-guests').textContent = villa.guests;
                document.getElementById('villa-description').textContent = villa.description;

                // Update amenities
                const amenitiesDiv = document.getElementById('amenities');
                amenitiesDiv.innerHTML = villa.amenities.map(amenity => 
                    `<div class="amenity">${amenity}</div>`
                ).join('');

                // Update reserve button
                document.getElementById('reserve-btn').onclick = function() {
                    alert("R√©servation pour " + villa.name);
                };

                console.log("Villa content updated, showing...");
                
                // Show content
                document.getElementById('loading').style.display = 'none';
                document.getElementById('villa-content').style.display = 'block';
                
                console.log("Villa loaded successfully!");
                
            } catch (error) {
                console.error("Error in loadVilla:", error);
                showError();
            }
        }

        function showError() {
            console.log("Showing error state");
            document.getElementById('loading').style.display = 'none';
            document.getElementById('error-state').style.display = 'block';
        }
    </script>
</body>
</html>