<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{villa_name} - {localisation} | KhanelConcept</title>
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" as="script">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {{
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
            margin: 0;
            padding: 0;
            position: relative;
        }}
        
        .video-background {{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }}
        
        .video-background video {{
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.8;
        }}
        
        .video-overlay {{
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.4) 0%, rgba(118, 75, 162, 0.4) 100%);
        }}
        
        .info-card {{
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            display: block;
            visibility: visible;
        }}
        
        .villa-gallery {{
            border-radius: 20px;
            overflow: hidden;
            height: 500px;
            display: block;
        }}
        
        .villa-gallery .swiper-slide img {{
            width: 100%;
            height: 500px;
            object-fit: cover;
        }}
        
        main.container {{
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: block;
            visibility: visible;
            opacity: 1;
        }}
        
        .btn-primary {{
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }}
        
        @media (max-width: 768px) {{
            .villa-gallery {{ height: 300px; }}
            .villa-gallery .swiper-slide img {{ height: 300px; }}
        }}
    </style>
  <script src="assets/js/storage-guard.js"></script>
  <script src="assets/js/config.js"></script>
</head>

<body>
    <!-- Background Video -->
    <div class="video-background">
        <video id="backgroundVideo" autoplay muted loop playsinline preload="metadata" webkit-playsinline>
            <source src="https://res.cloudinary.com/ddulasmtz/video/upload/v1752950782/background-video.mp4_qoofsz.mp4" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-20 backdrop-blur-lg border-b border-white/10 p-4">
        <div class="container mx-auto flex justify-between items-center">
            <a href="./index.html" class="flex items-center space-x-3 text-yellow-400">
                <img src="https://customer-assets.emergentagent.com/job_villa-dash/artifacts/vg7ukqf7_logo-khanel-concept-original.png" 
                     alt="Khanel Concept Logo" class="h-10 w-auto">
                <span class="text-2xl font-bold">KhanelConcept</span>
            </a>
            <div class="flex space-x-6">
                <a href="./index.html" class="text-white hover:text-yellow-400 transition-colors">Nos Villas</a>
                <a href="./reservation.html" class="text-white hover:text-yellow-400 transition-colors">Réserver</a>
                <a href="./login.html" class="text-white hover:text-yellow-400 transition-colors">Connexion</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12" style="margin-top: 120px; position: relative; z-index: 100;">
        
        <!-- Villa Title -->
        <section class="text-center mb-16">
            <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-white to-yellow-400 bg-clip-text text-transparent">
                {villa_name}
            </h1>
            <p class="text-xl text-gray-300 mb-6">
                <i class="fas fa-map-marker-alt text-red-400 mr-2"></i>{localisation}
            </p>
        </section>
        
        <!-- Gallery Section -->
        <section class="mb-16">
            <div class="max-w-6xl mx-auto">
                <div class="swiper villa-gallery mb-6">
                    <div class="swiper-wrapper">
                        {gallery_slides}
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </section>

        <!-- Description -->
        <section class="mb-16">
            <div class="info-card max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-center">
                    <i class="fas fa-info-circle text-blue-600 mr-3"></i>
                    {villa_name}
                </h2>
                <div class="text-center mb-8">
                    <a href="./reservation.html?villa={villa_id}" class="btn-primary">
                        <i class="fas fa-calendar-check"></i>
                        Réserver maintenant
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Initialize Swiper
        document.addEventListener("DOMContentLoaded", function() {{
            new Swiper('.villa-gallery', {{
                loop: true,
                autoplay: {{ delay: 5000 }},
                pagination: {{ el: '.swiper-pagination', clickable: true }},
                navigation: {{ 
                    nextEl: '.swiper-button-next', 
                    prevEl: '.swiper-button-prev' 
                }}
            }});
            
            // Video background
            const video = document.getElementById('backgroundVideo');
            if (video) {{
                video.play().catch(function() {{
                    // Fallback if video fails
                }});
            }}
        }});
    </script>
</body>
</html>