<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conciergerie VIP - KhanelConcept Espace Membre</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Services de conciergerie VIP KhanelConcept - Assistance 24/7, services personnalisés et expériences exclusives pour membres premium.">
    <meta name="keywords" content="conciergerie VIP KhanelConcept, services personnalisés, assistance premium, expériences exclusives">
    <meta name="author" content="KhanelConcept">
    
    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-gradient: linear-gradient(135deg, #87ceeb 0%, #4682b4 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --warning-gradient: linear-gradient(135deg, #ffa726 0%, #fb8c00 100%);
            --gold-gradient: linear-gradient(135deg, #d69e2e 0%, #b7791f 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --accent-gold: #f6ad55;
            --shadow-soft: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #87ceeb 0%, #4682b4 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            line-height: 1.6;
            color: var(--text-primary);
        }
        
        /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }
        
        .video-background video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
            filter: brightness(0.7) contrast(1.1) saturate(1.2);
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
        }
        
        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        .logo {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo i {
            color: #FFA500;
        }
        
        /* Container */
        .concierge-container {
            padding: 2rem;
            min-height: calc(100vh - 80px);
        }
        
        .concierge-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        /* Header Section */
        .concierge-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .concierge-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(246, 173, 85, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .concierge-title {
            color: white;
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            position: relative;
            z-index: 1;
        }
        
        .concierge-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.3rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .vip-badge {
            display: inline-block;
            background: var(--gold-gradient);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .availability-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            color: white;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            background: #68d391;
            border-radius: 50%;
            animation: blink 2s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Quick Contact */
        .quick-contact {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .contact-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }
        
        .contact-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--accent-gold);
            color: white;
            text-decoration: none;
            transform: translateY(-3px);
        }
        
        .contact-btn.emergency {
            background: var(--secondary-gradient);
            border-color: var(--secondary-gradient);
            animation: emergency-pulse 3s infinite;
        }
        
        @keyframes emergency-pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(240, 147, 251, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(240, 147, 251, 0); }
        }
        
        /* Services Grid */
        .services-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 2.5rem;
        }
        
        .section-title {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .service-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .service-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-soft);
        }
        
        .service-card.premium {
            border-color: var(--gold-gradient);
            background: rgba(214, 158, 46, 0.1);
        }
        
        .service-card.premium::before {
            content: 'VIP';
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--gold-gradient);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: 700;
        }
        
        .service-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: white;
        }
        
        .service-icon.transport { background: var(--primary-gradient); }
        .service-icon.dining { background: var(--warning-gradient); }
        .service-icon.wellness { background: var(--success-gradient); }
        .service-icon.events { background: var(--secondary-gradient); }
        .service-icon.adventure { background: var(--gold-gradient); }
        .service-icon.shopping { background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%); }
        
        .service-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .service-desc {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .service-features {
            list-style: none;
            margin-bottom: 2rem;
        }
        
        .service-features li {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .service-features i {
            color: var(--accent-gold);
            width: 16px;
            text-align: center;
        }
        
        .service-action {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        
        .action-btn {
            background: var(--accent-gold);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 100px;
            text-align: center;
        }
        
        .action-btn:hover {
            background: #e69000;
            transform: translateY(-2px);
        }
        
        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Request Form Section */
        .request-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 2.5rem;
        }
        
        .request-grid {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 3rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 15px 18px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-gold);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .form-input::placeholder, .form-textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .form-select option {
            background: #2d3748;
            color: white;
        }
        
        .priority-options {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .priority-option {
            flex: 1;
            min-width: 120px;
        }
        
        .priority-input {
            display: none;
        }
        
        .priority-label {
            display: block;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .priority-input:checked + .priority-label {
            background: var(--accent-gold);
            border-color: var(--accent-gold);
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }
        
        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(135, 206, 235, 0.4);
        }
        
        /* Chat Widget */
        .chat-widget {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            position: sticky;
            top: 120px;
        }
        
        .chat-title {
            color: white;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .chat-status {
            background: var(--success-gradient);
            color: white;
            padding: 12px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }
        
        .chat-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .chat-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }
        
        .chat-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--accent-gold);
            color: white;
            text-decoration: none;
            transform: translateY(-2px);
        }
        
        .chat-availability {
            text-align: center;
            margin-top: 1.5rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        /* My Requests Section */
        .requests-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .request-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            border-left: 4px solid transparent;
        }
        
        .request-item.pending { border-left-color: #f6ad55; }
        .request-item.processing { border-left-color: #3182ce; }
        .request-item.completed { border-left-color: #38a169; }
        .request-item.cancelled { border-left-color: #e53e3e; }
        
        .request-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .request-title {
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }
        
        .request-date {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.85rem;
        }
        
        .request-status {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: auto;
        }
        
        .request-status.pending {
            background: rgba(246, 173, 85, 0.2);
            color: #f6ad55;
        }
        
        .request-status.processing {
            background: rgba(49, 130, 206, 0.2);
            color: #63b3ed;
        }
        
        .request-status.completed {
            background: rgba(56, 161, 105, 0.2);
            color: #68d391;
        }
        
        .request-message {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .request-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        
        .request-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .request-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Loading States */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: white;
        }
        
        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .request-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .chat-widget {
                position: relative;
                top: 0;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .concierge-container {
                padding: 1rem;
            }
            
            .concierge-header,
            .services-section,
            .request-section {
                padding: 2rem 1.5rem;
                border-radius: 20px;
            }
            
            .concierge-title {
                font-size: 2rem;
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .service-card {
                padding: 1.5rem;
            }
            
            .quick-contact {
                flex-direction: column;
                align-items: center;
            }
            
            .contact-btn {
                width: 100%;
                justify-content: center;
                max-width: 300px;
            }
            
            .priority-options {
                flex-direction: column;
            }
            
            .priority-option {
                min-width: auto;
            }
            
            .request-header {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .request-status {
                margin-left: 0;
                align-self: flex-start;
            }
        }
    </style>
</head>

<body>
    <!-- Background Video -->
    <div class="video-background">
        <video id="backgroundVideo" autoplay muted loop playsinline preload="metadata" webkit-playsinline>
            <source src="https://res.cloudinary.com/ddulasmtz/video/upload/v1752950782/background-video.mp4_qoofsz.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la lecture de vidéos HTML5.
        </video>
        <div class="video-overlay"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="logo">
                    <i class="fas fa-palm-tree"></i>
                    KhanelConcept
                </a>
                
                <div class="hidden md:flex items-center gap-4">
                    <a href="dashboard.html" class="text-white/80 hover:text-white transition-colors">Dashboard</a>
                    <a href="profile.html" class="text-white/80 hover:text-white transition-colors">Profil</a>
                    <a href="index.html" class="text-white/80 hover:text-white transition-colors">Villas</a>
                    <button onclick="logout()" class="text-white/80 hover:text-white transition-colors">Déconnexion</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Concierge Container -->
    <div class="concierge-container">
        <div class="concierge-content">
            
            <!-- Header Section -->
            <section class="concierge-header" data-aos="fade-up">
                <h1 class="concierge-title">
                    <i class="fas fa-concierge-bell"></i>
                    Conciergerie VIP
                </h1>
                <p class="concierge-subtitle">
                    Votre assistant personnel dédié pour des expériences inoubliables en Martinique
                </p>
                <div class="vip-badge">
                    👑 Service Premium 24/7
                </div>
                
                <div class="availability-status">
                    <div class="status-indicator"></div>
                    <span>Notre équipe conciergerie est disponible maintenant</span>
                </div>

                <div class="quick-contact">
                    <a href="tel:+596696000000" class="contact-btn emergency">
                        <i class="fas fa-phone"></i>
                        Urgence 24/7
                    </a>
                    <a href="mailto:concierge@khanelconcept.com" class="contact-btn">
                        <i class="fas fa-envelope"></i>
                        Email Priority
                    </a>
                    <button class="contact-btn" onclick="openLiveChat()">
                        <i class="fas fa-comments"></i>
                        Chat Live
                    </button>
                </div>
            </section>

            <!-- Services Section -->
            <section class="services-section" data-aos="fade-up" data-aos-delay="200">
                <h2 class="section-title">
                    <i class="fas fa-sparkles"></i>
                    Services Exclusifs Disponibles
                </h2>
                
                <div class="services-grid">
                    <div class="service-card premium" data-aos="zoom-in" data-aos-delay="100">
                        <div class="service-icon transport">
                            <i class="fas fa-car"></i>
                        </div>
                        <h3 class="service-title">Transport VIP</h3>
                        <p class="service-desc">
                            Transferts privés, chauffeurs dédiés, véhicules de luxe et helicoptère sur demande.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Transfert aéroport premium</li>
                            <li><i class="fas fa-check"></i> Chauffeur privé disponible</li>
                            <li><i class="fas fa-check"></i> Véhicules de luxe</li>
                            <li><i class="fas fa-check"></i> Helicopter tours</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('transport')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('transport')">Détails</button>
                        </div>
                    </div>

                    <div class="service-card premium" data-aos="zoom-in" data-aos-delay="200">
                        <div class="service-icon dining">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <h3 class="service-title">Gastronomie Privée</h3>
                        <p class="service-desc">
                            Chefs privés, réservations restaurants exclusifs, dégustations et expériences culinaires.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Chef privé à domicile</li>
                            <li><i class="fas fa-check"></i> Réservations restaurants VIP</li>
                            <li><i class="fas fa-check"></i> Dégustations rhum & café</li>
                            <li><i class="fas fa-check"></i> Cours de cuisine créole</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('dining')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('dining')">Détails</button>
                        </div>
                    </div>

                    <div class="service-card" data-aos="zoom-in" data-aos-delay="300">
                        <div class="service-icon wellness">
                            <i class="fas fa-spa"></i>
                        </div>
                        <h3 class="service-title">Bien-être & Spa</h3>
                        <p class="service-desc">
                            Services spa à domicile, massages, soins de beauté et expériences détente.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Massages à domicile</li>
                            <li><i class="fas fa-check"></i> Soins esthétiques</li>
                            <li><i class="fas fa-check"></i> Yoga & méditation</li>
                            <li><i class="fas fa-check"></i> Spa privatisé</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('wellness')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('wellness')">Détails</button>
                        </div>
                    </div>

                    <div class="service-card premium" data-aos="zoom-in" data-aos-delay="400">
                        <div class="service-icon events">
                            <i class="fas fa-glass-cheers"></i>
                        </div>
                        <h3 class="service-title">Événements Privés</h3>
                        <p class="service-desc">
                            Organisation complète d'événements, anniversaires, demandes en mariage, célébrations.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Organisation sur-mesure</li>
                            <li><i class="fas fa-check"></i> Décoration personnalisée</li>
                            <li><i class="fas fa-check"></i> Animation & musique</li>
                            <li><i class="fas fa-check"></i> Photographe professionnel</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('events')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('events')">Détails</button>
                        </div>
                    </div>

                    <div class="service-card" data-aos="zoom-in" data-aos-delay="500">
                        <div class="service-icon adventure">
                            <i class="fas fa-compass"></i>
                        </div>
                        <h3 class="service-title">Aventures Exclusives</h3>
                        <p class="service-desc">
                            Excursions privées, activités nautiques, randonnées, découverte culturelle authentique.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Excursions sur-mesure</li>
                            <li><i class="fas fa-check"></i> Guide privé expert</li>
                            <li><i class="fas fa-check"></i> Sports nautiques VIP</li>
                            <li><i class="fas fa-check"></i> Découverte culturelle</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('adventure')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('adventure')">Détails</button>
                        </div>
                    </div>

                    <div class="service-card" data-aos="zoom-in" data-aos-delay="600">
                        <div class="service-icon shopping">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <h3 class="service-title">Shopping & Lifestyle</h3>
                        <p class="service-desc">
                            Personal shopper, achats produits locaux, souvenirs exclusifs, services lifestyle.
                        </p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Personal shopper dédié</li>
                            <li><i class="fas fa-check"></i> Produits locaux premium</li>
                            <li><i class="fas fa-check"></i> Artisanat authentique</li>
                            <li><i class="fas fa-check"></i> Livraison à domicile</li>
                        </ul>
                        <div class="service-action">
                            <button class="action-btn" onclick="requestService('shopping')">Demander</button>
                            <button class="action-btn secondary" onclick="viewDetails('shopping')">Détails</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Request Form Section -->
            <section class="request-section" data-aos="fade-up" data-aos-delay="400">
                <div class="request-grid">
                    <div>
                        <h2 class="section-title">
                            <i class="fas fa-magic"></i>
                            Demande Personnalisée
                        </h2>
                        
                        <form id="conciergeForm">
                            <div class="form-group">
                                <label for="serviceType" class="form-label">Type de Service</label>
                                <select id="serviceType" class="form-select">
                                    <option value="">Sélectionner un service</option>
                                    <option value="transport">Transport VIP</option>
                                    <option value="dining">Gastronomie Privée</option>
                                    <option value="wellness">Bien-être & Spa</option>
                                    <option value="events">Événements Privés</option>
                                    <option value="adventure">Aventures Exclusives</option>
                                    <option value="shopping">Shopping & Lifestyle</option>
                                    <option value="other">Autre demande</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="requestTitle" class="form-label">Titre de la demande</label>
                                <input type="text" id="requestTitle" class="form-input" 
                                       placeholder="Ex: Chef privé pour dîner romantique">
                            </div>

                            <div class="form-group">
                                <label for="requestDetails" class="form-label">Détails de votre demande</label>
                                <textarea id="requestDetails" class="form-textarea" 
                                          placeholder="Décrivez en détail ce que vous souhaitez. Plus vous êtes précis, mieux nous pourrons vous servir..."></textarea>
                            </div>

                            <div class="form-group">
                                <label for="preferredDate" class="form-label">Date souhaitée</label>
                                <input type="datetime-local" id="preferredDate" class="form-input">
                            </div>

                            <div class="form-group">
                                <label for="budget" class="form-label">Budget approximatif</label>
                                <select id="budget" class="form-select">
                                    <option value="">Pas de budget spécifique</option>
                                    <option value="<500">Moins de 500€</option>
                                    <option value="500-1000">500€ - 1000€</option>
                                    <option value="1000-2500">1000€ - 2500€</option>
                                    <option value=">2500">Plus de 2500€</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Priorité</label>
                                <div class="priority-options">
                                    <div class="priority-option">
                                        <input type="radio" id="standard" name="priority" value="standard" class="priority-input" checked>
                                        <label for="standard" class="priority-label">
                                            <i class="fas fa-clock"></i><br>
                                            Standard
                                        </label>
                                    </div>
                                    <div class="priority-option">
                                        <input type="radio" id="urgent" name="priority" value="urgent" class="priority-input">
                                        <label for="urgent" class="priority-label">
                                            <i class="fas fa-bolt"></i><br>
                                            Urgent
                                        </label>
                                    </div>
                                    <div class="priority-option">
                                        <input type="radio" id="emergency" name="priority" value="emergency" class="priority-input">
                                        <label for="emergency" class="priority-label">
                                            <i class="fas fa-exclamation-triangle"></i><br>
                                            Urgence
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i>
                                Envoyer la demande
                            </button>
                        </form>
                    </div>

                    <!-- Chat Widget -->
                    <div class="chat-widget">
                        <h3 class="chat-title">💬 Assistance Immédiate</h3>
                        
                        <div class="chat-status">
                            <i class="fas fa-user-tie"></i>
                            Conciergerie en ligne
                        </div>

                        <div class="chat-buttons">
                            <button class="chat-btn" onclick="openLiveChat()">
                                <i class="fas fa-comments"></i>
                                <div>
                                    <div style="font-weight: 700;">Chat en direct</div>
                                    <div style="font-size: 0.8rem; opacity: 0.8;">Réponse immédiate</div>
                                </div>
                            </button>

                            <a href="tel:+596696000000" class="chat-btn">
                                <i class="fas fa-phone"></i>
                                <div>
                                    <div style="font-weight: 700;">Appel direct</div>
                                    <div style="font-size: 0.8rem; opacity: 0.8;">+596 696 00 00 00</div>
                                </div>
                            </a>

                            <a href="mailto:concierge@khanelconcept.com" class="chat-btn">
                                <i class="fas fa-envelope"></i>
                                <div>
                                    <div style="font-weight: 700;">Email prioritaire</div>
                                    <div style="font-size: 0.8rem; opacity: 0.8;">Réponse sous 1h</div>
                                </div>
                            </a>

                            <button class="chat-btn" onclick="requestCallback()">
                                <i class="fas fa-phone-alt"></i>
                                <div>
                                    <div style="font-weight: 700;">Rappel programmé</div>
                                    <div style="font-size: 0.8rem; opacity: 0.8;">Nous vous rappelons</div>
                                </div>
                            </button>
                        </div>

                        <div class="chat-availability">
                            <strong>Disponibilité :</strong><br>
                            24h/24 - 7j/7<br>
                            <i class="fas fa-globe"></i> Service multilingue<br>
                            <i class="fas fa-medal"></i> Experts locaux
                        </div>
                    </div>
                </div>
            </section>

            <!-- My Requests Section -->
            <section class="services-section" data-aos="fade-up" data-aos-delay="600">
                <h2 class="section-title">
                    <i class="fas fa-tasks"></i>
                    Mes Demandes Récentes
                </h2>
                
                <div class="requests-list" id="requestsList">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                        Chargement de vos demandes...
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Global variables
        let currentUser = null;
        let userRequests = [];
        
        const backendUrl = window.location.hostname === 'localhost' 
            ? 'http://localhost:8001'
            : (typeof process !== 'undefined' && process.env && process.env.REACT_APP_BACKEND_URL) 
                ? process.env.REACT_APP_BACKEND_URL 
                : 'https://11d55026-8d04-4554-bff9-4cc57e14d1b2.preview.emergentagent.com';

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initBackgroundVideoiOS();
            AOS.init({ duration: 1000, once: true });
            checkAuthentication();
            loadUserRequests();
            setupForm();
        });

        // iOS Video Background Support
        function initBackgroundVideoiOS() {
            const video = document.getElementById('backgroundVideo');
            if (video) {
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                
                if (isIOS) {
                    video.setAttribute('webkit-playsinline', '');
                    video.setAttribute('playsinline', '');
                    video.muted = true;
                    video.defaultMuted = true;
                    video.volume = 0;
                    
                    video.play().catch(error => {
                        function startVideo() {
                            video.play().then(() => {
                                console.log('✅ Vidéo background démarrée sur iOS');
                            }).catch(err => console.log('Erreur vidéo iOS:', err));
                            document.removeEventListener('touchstart', startVideo);
                            document.removeEventListener('click', startVideo);
                        }
                        
                        document.addEventListener('touchstart', startVideo, { once: true });
                        document.addEventListener('click', startVideo, { once: true });
                    });
                } else {
                    video.play().catch(error => {
                        console.log('Erreur autoplay:', error);
                    });
                }
            }
        }

        // Check authentication
        function checkAuthentication() {
            const userData = localStorage.getItem('khanelconcept_user');
            const token = localStorage.getItem('khanelconcept_token');
            
            if (!userData || !token) {
                window.location.href = 'login.html';
                return;
            }

            try {
                currentUser = JSON.parse(userData);
            } catch (error) {
                console.error('Error parsing user data:', error);
                window.location.href = 'login.html';
            }
        }

        // Setup form
        function setupForm() {
            document.getElementById('conciergeForm').addEventListener('submit', handleFormSubmit);
            
            // Set minimum date to today
            const dateInput = document.getElementById('preferredDate');
            const now = new Date();
            const minDate = now.toISOString().slice(0, 16);
            dateInput.min = minDate;
        }

        // Handle form submission
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            const formData = {
                serviceType: document.getElementById('serviceType').value,
                title: document.getElementById('requestTitle').value,
                details: document.getElementById('requestDetails').value,
                preferredDate: document.getElementById('preferredDate').value,
                budget: document.getElementById('budget').value,
                priority: document.querySelector('input[name="priority"]:checked').value
            };

            // Validate required fields
            if (!formData.serviceType || !formData.title || !formData.details) {
                alert('Veuillez remplir tous les champs requis.');
                return;
            }

            try {
                // Simulate API call
                const newRequest = {
                    id: Date.now().toString(),
                    ...formData,
                    status: 'pending',
                    createdAt: new Date(),
                    memberId: currentUser.id
                };

                userRequests.unshift(newRequest);
                
                alert('Votre demande a été envoyée avec succès ! Notre équipe conciergerie vous contactera rapidement.');
                
                // Reset form
                document.getElementById('conciergeForm').reset();
                
                // Reload requests
                renderRequests();
                
            } catch (error) {
                console.error('Error submitting request:', error);
                alert('Erreur lors de l\'envoi de votre demande. Veuillez réessayer.');
            }
        }

        // Load user requests
        function loadUserRequests() {
            // Generate demo requests
            userRequests = [
                {
                    id: '1',
                    serviceType: 'dining',
                    title: 'Chef privé pour anniversaire',
                    details: 'Chef privé pour préparer un dîner romantique d\'anniversaire pour 2 personnes avec menu créole fusion.',
                    status: 'processing',
                    createdAt: new Date(Date.now() - 86400000 * 2),
                    priority: 'standard',
                    response: 'Chef Pierre confirmé pour vendredi 19h. Menu dégustation 5 services préparé.'
                },
                {
                    id: '2',
                    serviceType: 'transport',
                    title: 'Transfert aéroport + tour helicopter',
                    details: 'Transfert VIP depuis l\'aéroport + tour en helicopter de 30min au coucher du soleil.',
                    status: 'completed',
                    createdAt: new Date(Date.now() - 86400000 * 5),
                    priority: 'urgent',
                    response: 'Service réalisé avec succès. Helicopter tour effectué avec le pilote Jean-Luc.'
                },
                {
                    id: '3',
                    serviceType: 'wellness',
                    title: 'Spa à domicile couple',
                    details: 'Séance de massage en couple à la villa avec huiles essentielles locales.',
                    status: 'pending',
                    createdAt: new Date(Date.now() - 86400000),
                    priority: 'standard',
                    response: null
                }
            ];

            renderRequests();
        }

        // Render requests
        function renderRequests() {
            const container = document.getElementById('requestsList');
            
            if (userRequests.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-concierge-bell" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <p>Aucune demande de conciergerie pour le moment</p>
                        <p style="font-size: 0.9rem; opacity: 0.8;">Utilisez le formulaire ci-dessus pour faire votre première demande</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = userRequests.map(request => {
                const timeAgo = getTimeAgo(request.createdAt);
                const statusLabel = getStatusLabel(request.status);
                
                return `
                    <div class="request-item ${request.status}" data-aos="fade-up">
                        <div class="request-header">
                            <div>
                                <div class="request-title">${request.title}</div>
                                <div class="request-date">
                                    ${timeAgo} • ${getPriorityLabel(request.priority)} • ${getServiceLabel(request.serviceType)}
                                </div>
                            </div>
                            <div class="request-status ${request.status}">${statusLabel}</div>
                        </div>
                        
                        <div class="request-message">${request.details}</div>
                        
                        ${request.response ? `
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <strong style="color: var(--accent-gold);">Réponse de l'équipe :</strong><br>
                            <span style="color: rgba(255, 255, 255, 0.9);">${request.response}</span>
                        </div>` : ''}
                        
                        <div class="request-actions">
                            <button class="request-btn" onclick="viewRequestDetails('${request.id}')">
                                <i class="fas fa-eye"></i> Détails
                            </button>
                            ${request.status === 'pending' ? `
                            <button class="request-btn" onclick="editRequest('${request.id}')">
                                <i class="fas fa-edit"></i> Modifier
                            </button>
                            <button class="request-btn" onclick="cancelRequest('${request.id}')">
                                <i class="fas fa-times"></i> Annuler
                            </button>` : ''}
                            ${request.status === 'completed' ? `
                            <button class="request-btn" onclick="rateService('${request.id}')">
                                <i class="fas fa-star"></i> Évaluer
                            </button>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Helper functions
        function getTimeAgo(date) {
            const now = new Date();
            const diff = now - date;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor(diff / (1000 * 60 * 60));

            if (hours < 24) return `Il y a ${hours}h`;
            if (days < 7) return `Il y a ${days} jour${days > 1 ? 's' : ''}`;
            return date.toLocaleDateString('fr-FR');
        }

        function getStatusLabel(status) {
            const labels = {
                'pending': 'En attente',
                'processing': 'En cours',
                'completed': 'Terminé',
                'cancelled': 'Annulé'
            };
            return labels[status] || status;
        }

        function getPriorityLabel(priority) {
            const labels = {
                'standard': 'Standard',
                'urgent': 'Urgent',
                'emergency': 'Urgence'
            };
            return labels[priority] || priority;
        }

        function getServiceLabel(serviceType) {
            const labels = {
                'transport': 'Transport',
                'dining': 'Gastronomie',
                'wellness': 'Bien-être',
                'events': 'Événements',
                'adventure': 'Aventure',
                'shopping': 'Shopping',
                'other': 'Autre'
            };
            return labels[serviceType] || serviceType;
        }

        // Service functions
        function requestService(serviceType) {
            document.getElementById('serviceType').value = serviceType;
            document.getElementById('requestTitle').focus();
            
            // Scroll to form
            document.querySelector('.request-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function viewDetails(serviceType) {
            const details = {
                'transport': 'Transport VIP : Véhicules de luxe, chauffeurs professionnels, helicopter tours, transferts aéroport premium.',
                'dining': 'Gastronomie Privée : Chefs étoilés, cuisine créole authentique, dégustations exclusives.',
                'wellness': 'Bien-être & Spa : Massages professionnels, soins de beauté, relaxation à domicile.',
                'events': 'Événements Privés : Organisation complète, décoration, animation, photographie.',
                'adventure': 'Aventures Exclusives : Excursions privées, sports nautiques, découverte culturelle.',
                'shopping': 'Shopping & Lifestyle : Personal shopper, produits locaux, artisanat authentique.'
            };
            
            alert(details[serviceType] || 'Service personnalisé selon vos besoins.');
        }

        function openLiveChat() {
            alert('Chat en direct avec notre conciergerie - Fonctionnalité en cours de développement !');
        }

        function requestCallback() {
            const time = prompt('À quelle heure souhaitez-vous être rappelé ? (Format: HH:MM)');
            if (time) {
                alert(`Demande de rappel programmée à ${time}. Notre équipe vous contactera.`);
            }
        }

        // Request management functions
        function viewRequestDetails(requestId) {
            const request = userRequests.find(r => r.id === requestId);
            if (request) {
                alert(`Détails de la demande :\n\n${request.title}\n\n${request.details}\n\nStatut: ${getStatusLabel(request.status)}`);
            }
        }

        function editRequest(requestId) {
            alert('Modification de demande en cours de développement !');
        }

        function cancelRequest(requestId) {
            if (confirm('Voulez-vous annuler cette demande ?')) {
                const requestIndex = userRequests.findIndex(r => r.id === requestId);
                if (requestIndex !== -1) {
                    userRequests[requestIndex].status = 'cancelled';
                    renderRequests();
                }
            }
        }

        function rateService(requestId) {
            const rating = prompt('Comment évaluez-vous ce service ? (1-5 étoiles)');
            if (rating && rating >= 1 && rating <= 5) {
                alert(`Merci pour votre évaluation de ${rating} étoiles !`);
            }
        }

        // Logout function
        function logout() {
            if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                localStorage.removeItem('khanelconcept_user');
                localStorage.removeItem('khanelconcept_token');
                window.location.href = 'login.html';
            }
        }
    </script>
</body>
</html>