<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KhanelConcept - Plateforme Connect√©e</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: transparent;
            min-height: 100vh;
            position: relative;
        }
        
        /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }
        
        .video-background video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.1);
            z-index: -1;
        }
        
        /* Header am√©lior√© */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo i {
            color: #FFA500;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }
        
        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .nav-links a.active {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        
        /* Boutons d'authentification */
        .auth-buttons {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .btn-login {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.8);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .btn-login:hover {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .btn-register {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            border: 2px solid rgba(255, 255, 255, 0.9);
        }
        
        .btn-register:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .user-profile {
            display: none;
            align-items: center;
            gap: 10px;
            color: white;
            cursor: pointer;
            padding: 5px 15px;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .user-profile img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        /* Mobile menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem;
        }
        
        .mobile-menu.active {
            display: block;
        }
        
        .mobile-menu a {
            display: block;
            color: #333;
            text-decoration: none;
            padding: 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .mobile-menu a:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .mobile-auth-buttons {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
        }
        
        .mobile-auth-buttons .btn-login,
        .mobile-auth-buttons .btn-register {
            flex: 1;
            text-align: center;
        }
        
        .mobile-auth-buttons .btn-login {
            color: #333;
            border-color: #333;
        }
        
        .mobile-auth-buttons .btn-register {
            background: #333;
            color: white;
        }
        
        /* Contenu principal */
        .main-content {
            position: relative;
            z-index: 1;
        }
        
        .section {
            min-height: 100vh;
            padding: 2rem;
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .section h1 {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .section h2 {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin: 2rem 0 1rem 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .section p {
            font-size: 1.2rem;
            color: white;
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }
        
        .glass-card h3 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .glass-card h4 {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .glass-card p {
            color: rgba(255, 255, 255, 0.9);
            text-align: left;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FFA500;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .location {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .btn-primary {
            background: #FFA500;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary:hover {
            background: #FF8C00;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 165, 0, 0.3);
        }
        
        /* Indicateurs de synchronisation */
        .sync-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 25px;
            font-size: 0.9rem;
            color: #333;
            z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .sync-indicator.syncing {
            display: block;
            background: rgba(255, 165, 0, 0.9);
            color: white;
        }
        
        .sync-indicator.success {
            display: block;
            background: rgba(34, 197, 94, 0.9);
            color: white;
        }
        
        .sync-indicator.error {
            display: block;
            background: rgba(239, 68, 68, 0.9);
            color: white;
        }
        
        /* Loading states */
        .loading-skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 15px;
            height: 200px;
            margin: 1rem 0;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .data-source {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .data-source.admin {
            background: rgba(34, 197, 94, 0.7);
        }
        
        .data-source.local {
            background: rgba(59, 130, 246, 0.7);
        }
        
        /* Barre de recherche style Booking.com */
        .search-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: visible;
        }
        
        .booking-search-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 8px;
            display: flex;
            align-items: stretch;
            gap: 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            width: 100%;
            min-height: 70px;
            position: relative;
            overflow: visible;
        }
        
        .search-field {
            padding: 16px 20px;
            border: none;
            background: transparent;
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-width: 0;
            flex: 1;
        }
        
        .search-field:last-of-type {
            border-right: none;
        }
        
        .search-field:hover {
            background: rgba(0, 0, 0, 0.02);
        }
        
        .search-field:focus-within {
            outline: none;
            background: rgba(0, 0, 0, 0.05);
        }
        
        .search-field-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .search-field-value {
            font-size: 14px;
            color: #666;
            font-weight: 500;
            line-height: 1.2;
            word-break: break-word;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .search-field-value.placeholder {
            color: #999;
        }
        
        .search-button {
            background: linear-gradient(135deg, #0071c2 0%, #004d8b 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px 24px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-left: 8px;
            flex-shrink: 0;
            min-width: 120px;
        }
        
        .search-button:hover {
            background: linear-gradient(135deg, #005999 0%, #003d6b 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 113, 194, 0.3);
        }
        
        .search-button i {
            font-size: 18px;
        }
        
        /* Autocompl√©tion */
        .destination-autocomplete {
            position: relative;
            flex: 2;
        }
        
        .destination-input {
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            font-size: 14px;
            color: #666;
            font-weight: 500;
            padding: 0;
            line-height: 1.2;
        }
        
        .destination-input::placeholder {
            color: #999;
        }
        
        .autocomplete-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            max-height: 250px;
            overflow-y: auto;
            z-index: 3000;
            display: none;
            margin-top: 8px;
        }
        
        .autocomplete-dropdown.active {
            display: block;
        }
        
        .autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .autocomplete-item:hover,
        .autocomplete-item.selected {
            background: rgba(0, 113, 194, 0.08);
            color: #0071c2;
        }
        
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        
        .autocomplete-item .location-icon {
            color: #0071c2;
            font-size: 12px;
        }
        
        .autocomplete-item .destination-name {
            font-weight: 600;
            color: #333;
        }
        
        .autocomplete-item.selected .destination-name {
            color: #0071c2;
        }
        
        .autocomplete-item .destination-detail {
            font-size: 11px;
            color: #666;
            margin-left: auto;
        }
        
        .highlight {
            background: rgba(0, 113, 194, 0.2);
            font-weight: 600;
            padding: 1px 2px;
            border-radius: 2px;
        }
        
        .no-results {
            padding: 12px 16px;
            text-align: center;
            color: #666;
            font-style: italic;
            font-size: 13px;
        }
        
        /* Date picker */
        .date-picker {
            position: relative;
            flex: 1;
        }
        
        .date-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            font-size: 14px;
            z-index: 1500;
        }
        
        .date-input:focus {
            outline: none;
        }
        
        .date-input::-webkit-calendar-picker-indicator {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        /* Dropdown voyageurs */
        .guests-field {
            position: relative;
            flex: 1.5;
            flex-shrink: 0;
            min-width: 200px;
            overflow: visible;
        }
        
        .guests-dropdown {
            position: fixed;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            z-index: 999999;
            display: none;
            width: 320px;
            min-width: 320px;
        }
        
        .guests-dropdown.active {
            display: block;
        }
        
        .guest-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        .guest-row:last-child {
            border-bottom: none;
        }
        
        .guest-info {
            flex: 1;
        }
        
        .guest-type {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
            font-size: 14px;
        }
        
        .guest-description {
            font-size: 12px;
            color: #666;
        }
        
        .guest-counter {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-shrink: 0;
        }
        
        .counter-btn {
            width: 36px;
            height: 36px;
            border: 2px solid #0071c2;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0071c2;
            transition: all 0.3s ease;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .counter-btn:hover {
            background: #0071c2;
            color: white;
        }
        
        .counter-btn:disabled {
            border-color: #ccc;
            color: #ccc;
            cursor: not-allowed;
        }
        
        .counter-btn:disabled:hover {
            background: white;
            color: #ccc;
        }
        
        .counter-value {
            font-weight: 600;
            color: #333;
            min-width: 24px;
            text-align: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .villas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .villa-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .villa-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }
        
        .villa-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px 15px 0 0;
        }
        
        .villa-content {
            padding: 1.5rem;
        }
        
        .villa-title {
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .villa-location {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .villa-price {
            color: #FFA500;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .villa-features {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .villa-category {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 165, 0, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .filters-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: rgba(255, 165, 0, 0.8);
            border-color: #FFA500;
        }
        
        .search-filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .search-input {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            outline: none;
            transition: all 0.3s ease;
            min-width: 200px;
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .search-input:focus {
            background: rgba(255, 255, 255, 0.2);
            border-color: #FFA500;
        }
        
        .prestataires-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        /* Modales */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            color: #333;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FFA500;
            box-shadow: 0 0 0 2px rgba(255, 165, 0, 0.2);
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1.5rem;
        }
        
        .btn-secondary {
            background: #f5f5f5;
            color: #333;
            padding: 10px 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .auth-toggle {
            text-align: center;
            margin-top: 1rem;
            color: #666;
        }
        
        .auth-toggle a {
            color: #FFA500;
            text-decoration: none;
            font-weight: 500;
        }
        
        .auth-toggle a:hover {
            text-decoration: underline;
        }
        
        /* Villa Modal */
        .villa-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .villa-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .villa-modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 0;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .villa-gallery {
            position: relative;
            height: 400px;
            overflow: hidden;
            border-radius: 15px 15px 0 0;
        }
        
        .villa-gallery img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .gallery-nav:hover {
            background: rgba(0, 0, 0, 0.7);
        }
        
        .gallery-nav.prev {
            left: 10px;
        }
        
        .gallery-nav.next {
            right: 10px;
        }
        
        .villa-details {
            padding: 2rem;
        }
        
        .villa-details h2 {
            color: #333;
            margin-bottom: 1rem;
            text-shadow: none;
        }
        
        .villa-details p {
            color: #666;
            text-align: left;
            text-shadow: none;
        }
        
        .villa-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .villa-info-item {
            background: rgba(255, 165, 0, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #FFA500;
        }
        
        .villa-info-label {
            font-weight: bold;
            color: #FFA500;
            margin-bottom: 0.5rem;
        }
        
        .villa-info-value {
            color: #333;
        }
        
        .booking-form {
            background: rgba(255, 165, 0, 0.1);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
        }
        
        .booking-form h3 {
            color: #FFA500;
            margin-bottom: 1rem;
            text-shadow: none;
        }
        
        .booking-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .booking-field {
            flex: 1;
        }
        
        .booking-field label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 500;
        }
        
        .booking-field input,
        .booking-field select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .booking-summary {
            background: white;
            padding: 1rem;
            border-radius: 5px;
            margin-top: 1rem;
        }
        
        .booking-summary h4 {
            color: #333;
            margin-bottom: 0.5rem;
            text-shadow: none;
        }
        
        .booking-total {
            font-size: 1.2rem;
            font-weight: bold;
            color: #FFA500;
            margin-top: 0.5rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .booking-search-container {
                flex-direction: column;
                gap: 0;
                align-items: stretch;
            }
            
            .search-field {
                border-right: none;
                border-bottom: 1px solid rgba(0, 0, 0, 0.1);
                min-height: 60px;
            }
            
            .search-field:last-of-type {
                border-bottom: none;
            }
            
            .search-button {
                width: 100%;
                justify-content: center;
                margin-left: 0;
                margin-top: 12px;
            }
            
            .guests-dropdown {
                width: 100%;
                min-width: 100%;
                left: 0;
                right: 0;
            }
            
            .villas-grid,
            .prestataires-grid {
                grid-template-columns: 1fr;
            }
            
            .filters-container,
            .search-filters {
                flex-direction: column;
                align-items: center;
            }
            
            .villa-modal-content {
                width: 95%;
                max-height: 95vh;
            }
            
            .villa-gallery {
                height: 250px;
            }
            
            .villa-info-grid {
                grid-template-columns: 1fr;
            }
            
            .booking-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/eec103a6-13ba-46b0-89f4-ad38171d7b73?se=2025-07-18T02%3A19%3A56Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%22temp_video_1752611476.0922918.mov%22&sig=TCvSZuahYvxOB0zJ8PGyCQxz16/6ksfvxH67WbE8EMI%3D" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>

    <!-- Indicateur de synchronisation -->
    <div class="sync-indicator" id="syncIndicator">
        <i class="fas fa-sync-alt"></i>
        <span id="syncText">Synchronisation...</span>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo" onclick="showSection('home')">
                <i class="fas fa-palm-tree"></i>
                KhanelConcept
            </a>
            
            <nav class="nav-links">
                <a href="#" onclick="showSection('home')" class="active">Accueil</a>
                <a href="#" onclick="showSection('prestataires')">Prestataires</a>
                <a href="#" onclick="showSection('billetterie')">Billetterie</a>
                <a href="#" onclick="showSection('mobilier')">Mobilier</a>
                <a href="#" onclick="showSection('excursions')">Excursions</a>
                <a href="#" onclick="showSection('comptes')">Comptes Vacances</a>
                <a href="#" onclick="showSection('fidelite')">Fid√©lit√©</a>
                <a href="#" onclick="showSection('pmr')">Accessibilit√©</a>
            </nav>
            
            <div class="auth-section">
                <div class="auth-buttons">
                    <a href="#" class="btn-login" onclick="showModal('loginModal')">Connexion</a>
                    <a href="#" class="btn-register" onclick="showModal('registerModal')">Inscription</a>
                </div>
                
                <div class="user-profile" id="userProfile">
                    <img src="https://via.placeholder.com/32x32/FFA500/FFFFFF?text=U" alt="Profile">
                    <span id="userName">Utilisateur</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="#" onclick="showSection('home'); toggleMobileMenu()">Accueil</a>
            <a href="#" onclick="showSection('prestataires'); toggleMobileMenu()">Prestataires</a>
            <a href="#" onclick="showSection('billetterie'); toggleMobileMenu()">Billetterie</a>
            <a href="#" onclick="showSection('mobilier'); toggleMobileMenu()">Mobilier</a>
            <a href="#" onclick="showSection('excursions'); toggleMobileMenu()">Excursions</a>
            <a href="#" onclick="showSection('comptes'); toggleMobileMenu()">Comptes Vacances</a>
            <a href="#" onclick="showSection('fidelite'); toggleMobileMenu()">Fid√©lit√©</a>
            <a href="#" onclick="showSection('pmr'); toggleMobileMenu()">Accessibilit√©</a>
            
            <div class="mobile-auth-buttons">
                <a href="#" class="btn-login" onclick="showModal('loginModal'); toggleMobileMenu()">Connexion</a>
                <a href="#" class="btn-register" onclick="showModal('registerModal'); toggleMobileMenu()">Inscription</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Section Accueil -->
        <section id="home" class="section active">
            <div class="container mx-auto max-w-6xl">
                <h1>üèùÔ∏è D√©couvrez la Martinique</h1>
                <p>Villas de luxe et services exceptionnels dans un cadre paradisiaque</p>
                
                <!-- Recherche Style Booking.com -->
                <div class="search-section">
                    <h2>üîç Rechercher une Villa</h2>
                    <div class="booking-search-container">
                        <!-- Destination avec Autocompl√©tion -->
                        <div class="search-field destination-autocomplete">
                            <span class="search-field-label">Destination</span>
                            <input 
                                type="text" 
                                class="destination-input" 
                                id="destinationInput"
                                placeholder="O√π souhaitez-vous aller ?"
                                autocomplete="off"
                                spellcheck="false"
                            >
                            <div class="autocomplete-dropdown" id="autocompleteDropdown"></div>
                        </div>
                        
                        <!-- Date d'arriv√©e -->
                        <div class="search-field date-picker">
                            <span class="search-field-label">Arriv√©e</span>
                            <input type="date" class="date-input" id="checkinDate" onchange="updateDateDisplay('checkin')">
                            <div class="search-field-value placeholder" id="checkinValue">Ajouter des dates</div>
                        </div>
                        
                        <!-- Date de d√©part -->
                        <div class="search-field date-picker">
                            <span class="search-field-label">D√©part</span>
                            <input type="date" class="date-input" id="checkoutDate" onchange="updateDateDisplay('checkout')">
                            <div class="search-field-value placeholder" id="checkoutValue">Ajouter des dates</div>
                        </div>
                        
                        <!-- Voyageurs -->
                        <div class="search-field guests-field" onclick="toggleGuestsDropdown()">
                            <span class="search-field-label">Voyageurs</span>
                            <div class="search-field-value placeholder" id="guestsValue">Ajouter des voyageurs</div>
                            <div class="guests-dropdown" id="guestsDropdown">
                                <div class="guest-row">
                                    <div class="guest-info">
                                        <div class="guest-type">Adultes</div>
                                        <div class="guest-description">13 ans et plus</div>
                                    </div>
                                    <div class="guest-counter">
                                        <button class="counter-btn" onclick="decrementGuests('adults'); event.stopPropagation();" id="adultsDecrement">-</button>
                                        <span class="counter-value" id="adultsCount">2</span>
                                        <button class="counter-btn" onclick="incrementGuests('adults'); event.stopPropagation();" id="adultsIncrement">+</button>
                                    </div>
                                </div>
                                <div class="guest-row">
                                    <div class="guest-info">
                                        <div class="guest-type">Enfants</div>
                                        <div class="guest-description">De 2 √† 12 ans</div>
                                    </div>
                                    <div class="guest-counter">
                                        <button class="counter-btn" onclick="decrementGuests('children'); event.stopPropagation();" id="childrenDecrement">-</button>
                                        <span class="counter-value" id="childrenCount">0</span>
                                        <button class="counter-btn" onclick="incrementGuests('children'); event.stopPropagation();" id="childrenIncrement">+</button>
                                    </div>
                                </div>
                                <div class="guest-row">
                                    <div class="guest-info">
                                        <div class="guest-type">B√©b√©s</div>
                                        <div class="guest-description">Moins de 2 ans</div>
                                    </div>
                                    <div class="guest-counter">
                                        <button class="counter-btn" onclick="decrementGuests('babies'); event.stopPropagation();" id="babiesDecrement">-</button>
                                        <span class="counter-value" id="babiesCount">0</span>
                                        <button class="counter-btn" onclick="incrementGuests('babies'); event.stopPropagation();" id="babiesIncrement">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bouton de recherche -->
                        <button class="search-button" onclick="performBookingSearch()">
                            <i class="fas fa-search"></i>
                            Rechercher
                        </button>
                    </div>
                </div>
                
                <!-- Filtres et Recherche -->
                <div class="search-filters">
                    <input type="text" class="search-input" id="searchInput" placeholder="Rechercher une villa..." onkeyup="searchVillas()">
                </div>
                
                <div class="filters-container">
                    <button class="filter-btn active" onclick="filterVillas('all')">Toutes</button>
                    <button class="filter-btn" onclick="filterVillas('sejour')">üèñÔ∏è S√©jour</button>
                    <button class="filter-btn" onclick="filterVillas('fete')">üéâ F√™te</button>
                    <button class="filter-btn" onclick="filterVillas('special')">üè† Sp√©cial</button>
                </div>
                
                <!-- Villas -->
                <h2>üèñÔ∏è Nos Villas de Luxe</h2>
                <div class="villas-grid" id="villasGrid">
                    <!-- Les villas seront charg√©es dynamiquement -->
                </div>
            </div>
        </section>

        <!-- Section Prestataires -->
        <section id="prestataires" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üåä Nos Prestataires de Services</h1>
                <p>Explorez nos services nautiques, culinaires et √©v√©nementiels</p>
                
                <div class="prestataires-grid" id="prestatairesGrid">
                    <div class="glass-card">
                        <h3>üö§ Excursions Nautiques</h3>
                        <p>D√©couvrez la beaut√© de la Martinique depuis la mer avec nos excursions en catamaran.</p>
                        <div class="price">√Ä partir de 120‚Ç¨/personne</div>
                        <button class="btn-primary" onclick="showModal('contactModal')">R√©server</button>
                    </div>
                    
                    <div class="glass-card">
                        <h3>üçΩÔ∏è Services Culinaires</h3>
                        <p>Savourez la cuisine cr√©ole authentique avec nos chefs professionnels.</p>
                        <div class="price">√Ä partir de 80‚Ç¨/personne</div>
                        <button class="btn-primary" onclick="showModal('contactModal')">R√©server</button>
                    </div>
                    
                    <div class="glass-card">
                        <h3>üéâ Organisation d'√âv√©nements</h3>
                        <p>Confiez-nous l'organisation de vos √©v√©nements m√©morables.</p>
                        <div class="price">Devis personnalis√©</div>
                        <button class="btn-primary" onclick="showModal('contactModal')">Demander un devis</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Autres sections -->
        <section id="billetterie" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üé´ Billetterie √âv√©nementielle</h1>
                <p>Organisez et participez aux meilleurs √©v√©nements de Martinique</p>
                <div class="glass-card">
                    <h3>üé≠ √âv√©nements √† Venir</h3>
                    <p>D√©couvrez notre programmation d'√©v√©nements culturels et festifs.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">En savoir plus</button>
                </div>
            </div>
        </section>

        <section id="mobilier" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üõãÔ∏è Location de Mobilier</h1>
                <p>Tables, chaises, d√©coration pour vos √©v√©nements</p>
                <div class="glass-card">
                    <h3>ü™ë Mobilier d'√âv√©nement</h3>
                    <p>Location de mobilier haut de gamme pour tous vos √©v√©nements.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">Catalogue</button>
                </div>
            </div>
        </section>

        <section id="excursions" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>‚õµ Excursions Inoubliables</h1>
                <p>D√©couvrez la Martinique par terre, mer et air</p>
                <div class="glass-card">
                    <h3>üèùÔ∏è Tours de l'√éle</h3>
                    <p>Explorez les merveilles cach√©es de la Martinique avec nos guides experts.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">R√©server</button>
                </div>
            </div>
        </section>

        <section id="comptes" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üê∑ Comptes Vacances & Abonnements</h1>
                <p>√âpargnez pour vos futures vacances avec nos comptes d√©di√©s</p>
                <div class="glass-card">
                    <h3>üí∞ √âpargne Vacances</h3>
                    <p>Constituez votre √©pargne pour des vacances de r√™ve en Martinique.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">En savoir plus</button>
                </div>
            </div>
        </section>

        <section id="fidelite" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üéÅ Programme de Fid√©lit√©</h1>
                <p>Gagnez des points et des r√©compenses √† chaque r√©servation</p>
                <div class="glass-card">
                    <h3>‚≠ê Rewards Club</h3>
                    <p>Rejoignez notre programme de fid√©lit√© et b√©n√©ficiez d'avantages exclusifs.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">Rejoindre</button>
                </div>
            </div>
        </section>

        <section id="pmr" class="section">
            <div class="container mx-auto max-w-6xl">
                <h1>üëë Accessibilit√© PMR</h1>
                <p>Des s√©jours adapt√©s pour tous</p>
                <div class="glass-card">
                    <h3>‚ôø Villas Accessibles</h3>
                    <p>D√©couvrez nos villas sp√©cialement am√©nag√©es pour les personnes √† mobilit√© r√©duite.</p>
                    <button class="btn-primary" onclick="showModal('contactModal')">Voir les villas</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Modales -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Connexion</h2>
                <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Mot de passe</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('loginModal')">Annuler</button>
                    <button type="submit" class="btn-primary">Se connecter</button>
                </div>
            </form>
        </div>
    </div>

    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Inscription</h2>
                <button class="close-btn" onclick="closeModal('registerModal')">&times;</button>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Mot de passe</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('registerModal')">Annuler</button>
                    <button type="submit" class="btn-primary">S'inscrire</button>
                </div>
            </form>
        </div>
    </div>

    <div id="contactModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Contactez-nous</h2>
                <button class="close-btn" onclick="closeModal('contactModal')">&times;</button>
            </div>
            <form id="contactForm">
                <div class="form-group">
                    <label for="contactName">Nom</label>
                    <input type="text" id="contactName" required>
                </div>
                <div class="form-group">
                    <label for="contactEmail">Email</label>
                    <input type="email" id="contactEmail" required>
                </div>
                <div class="form-group">
                    <label for="contactPhone">T√©l√©phone</label>
                    <input type="tel" id="contactPhone">
                </div>
                <div class="form-group">
                    <label for="contactMessage">Message</label>
                    <textarea id="contactMessage" rows="5" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('contactModal')">Annuler</button>
                    <button type="submit" class="btn-primary">Envoyer</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Villa Modal -->
    <div id="villaModal" class="villa-modal">
        <div class="villa-modal-content">
            <div class="villa-gallery">
                <img id="villaGalleryImage" src="" alt="Villa">
                <button class="gallery-nav prev" onclick="prevImage()">‚ùÆ</button>
                <button class="gallery-nav next" onclick="nextImage()">‚ùØ</button>
                <button class="close-btn" onclick="closeVillaModal()" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.5); color: white; border: none; padding: 10px; border-radius: 50%; cursor: pointer;">&times;</button>
            </div>
            <div class="villa-details">
                <h2 id="villaModalTitle"></h2>
                <p id="villaModalLocation" class="location"></p>
                <p id="villaModalPrice" class="price"></p>
                <p id="villaModalDescription"></p>
                
                <div class="villa-info-grid">
                    <div class="villa-info-item">
                        <div class="villa-info-label">Capacit√©</div>
                        <div class="villa-info-value" id="villaModalCapacity"></div>
                    </div>
                    <div class="villa-info-item">
                        <div class="villa-info-label">√âquipements</div>
                        <div class="villa-info-value" id="villaModalEquipments"></div>
                    </div>
                    <div class="villa-info-item">
                        <div class="villa-info-label">Horaires</div>
                        <div class="villa-info-value" id="villaModalHoraires"></div>
                    </div>
                    <div class="villa-info-item">
                        <div class="villa-info-label">Caution</div>
                        <div class="villa-info-value" id="villaModalCaution"></div>
                    </div>
                </div>
                
                <div class="booking-form">
                    <h3>R√©server cette villa</h3>
                    <div class="booking-row">
                        <div class="booking-field">
                            <label for="bookingCheckin">Date d'arriv√©e</label>
                            <input type="date" id="bookingCheckin" onchange="calculateTotal()">
                        </div>
                        <div class="booking-field">
                            <label for="bookingCheckout">Date de d√©part</label>
                            <input type="date" id="bookingCheckout" onchange="calculateTotal()">
                        </div>
                    </div>
                    <div class="booking-row">
                        <div class="booking-field">
                            <label for="bookingGuests">Nombre d'invit√©s</label>
                            <select id="bookingGuests" onchange="calculateTotal()">
                                <option value="1">1 personne</option>
                                <option value="2">2 personnes</option>
                                <option value="4">4 personnes</option>
                                <option value="6">6 personnes</option>
                                <option value="8">8 personnes</option>
                                <option value="10">10 personnes</option>
                            </select>
                        </div>
                        <div class="booking-field">
                            <label for="bookingType">Type de s√©jour</label>
                            <select id="bookingType" onchange="calculateTotal()">
                                <option value="weekend">Weekend</option>
                                <option value="semaine">Semaine</option>
                                <option value="personnalise">Personnalis√©</option>
                            </select>
                        </div>
                    </div>
                    <div class="booking-summary">
                        <h4>R√©capitulatif de la r√©servation</h4>
                        <div id="bookingSummary">S√©lectionnez vos dates pour voir le prix</div>
                        <div class="booking-total" id="bookingTotal">Total: 0‚Ç¨</div>
                    </div>
                    <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="submitBooking()">R√©server maintenant</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Base de donn√©es compl√®te des villas
        const VILLAS_DATABASE = {
            villas: [
                {
                    id: 1,
                    nom: "Villa F3 Petit Macabou",
                    prix_base: 850,
                    prix_affiche: "850‚Ç¨",
                    localisation: "Petit Macabou au Vauclin",
                    capacite: 6,
                    capacite_detail: "6 personnes + 9 invit√©s",
                    type_logement: "2 chambres climatis√©es, salon avec canap√©-lit",
                    equipements: "Sauna, Jacuzzi, 2 douches ext√©rieures",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "09h-20h",
                    prix_periode: "Weekend: 850‚Ç¨ + 100‚Ç¨/nuit suppl. | Semaine: 1550‚Ç¨",
                    disponibilites: "28/07-03/08, 11/08-14/08, 29/08-31/08",
                    caution: "1500‚Ç¨ par ch√®que",
                    conditions: "Pas de nuisance sonore, respect voisinage",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D",
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/429782c3-5af1-432e-ac2d-6ad5823a5303?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2202_piscine_vue_aerienne.jpg%22&sig=3vee%2B9kPdE4AEr349KTZcbC0xlijUhtk7So5jpUKQog%3D"
                    ]
                },
                {
                    id: 2,
                    nom: "Villa F5 Ste Anne",
                    prix_base: 1300,
                    prix_affiche: "1300‚Ç¨",
                    localisation: "Quartier Les Anglais, Ste Anne",
                    capacite: 10,
                    capacite_detail: "10 personnes + 15 invit√©s",
                    type_logement: "4 chambres, 4 salles d'eau",
                    equipements: "Piscine, d√©coration rose distinctive, terrasses couvertes",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "09h-19h",
                    prix_periode: "Weekend: 1350‚Ç¨ (hors vacances) | Semaine: 2251‚Ç¨",
                    disponibilites: "02/07-20/07, puis √† partir du 21/08",
                    caution: "500‚Ç¨ esp√®ces + 1500‚Ç¨ empreinte",
                    conditions: "Paiement plusieurs fois, cautions rendues si OK",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/61368ce1-9520-4401-bc02-9340988a6a26?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2203_facade_villa_rose.jpg%22&sig=PZPI/iIKzzRQnJhXHk1Fa4LSLZoRJIAHPOI88dRyGQU%3D"
                    ]
                },
                {
                    id: 3,
                    nom: "Villa F3 POUR LA BACCHA",
                    prix_base: 1350,
                    prix_affiche: "1350‚Ç¨",
                    localisation: "Petit Macabou",
                    capacite: 6,
                    capacite_detail: "6 personnes + 9 convives",
                    type_logement: "2 chambres climatis√©es, canap√©-lit salon climatis√©",
                    equipements: "Piscine, terrasses modernes, finitions contemporaines",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "09h-18h",
                    prix_periode: "Juillet complet: 1350‚Ç¨ | P√©riodes ao√ªt disponibles: 1350‚Ç¨",
                    disponibilites: "Juillet complet, p√©riodes ao√ªt disponibles",
                    caution: "1500‚Ç¨ par ch√®que",
                    conditions: "Consignes √† respecter, PAS DE NUISANCE SONORE",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 4,
                    nom: "Villa F6 Lamentin",
                    prix_base: 1500,
                    prix_affiche: "1500‚Ç¨",
                    localisation: "Quartier B√©l√®me au Lamentin",
                    capacite: 10,
                    capacite_detail: "10 personnes + 20 invit√©s max",
                    type_logement: "Villa F6 somptueuse",
                    equipements: "Piscine, Jacuzzi, douche ext√©rieure",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "10h-19h MAX",
                    prix_periode: "Weekend: 1500‚Ç¨ / 1200‚Ç¨ (sans invit√©s) | Semaine: 2800‚Ç¨",
                    disponibilites: "1er-10 juillet et 25-31 ao√ªt",
                    caution: "1000‚Ç¨ par empreinte bancaire",
                    conditions: "P√©nalit√© 150‚Ç¨/30mn retard, co-voiturage obligatoire",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 5,
                    nom: "Villa F6 Ste Luce Plage",
                    prix_base: 1700,
                    prix_affiche: "1700‚Ç¨",
                    localisation: "Zac de Pont Caf√©, Ste Luce",
                    capacite: 14,
                    capacite_detail: "10 √† 14 personnes",
                    type_logement: "5 appartements (2 F2 duplex et 3 F2)",
                    equipements: "Piscine, 5√®me appartement au sous-sol",
                    proximite_plage: "1 minute de la plage de Corps de garde",
                    horaires: "Arriv√©e 17h, D√©part 11h",
                    prix_periode: "Weekend: 1700‚Ç¨ | Semaine: 2200‚Ç¨-2850‚Ç¨",
                    disponibilites: "14-21/07 et 24-31/08",
                    caution: "1500‚Ç¨ ch√®que + 500‚Ç¨ esp√®ces",
                    conditions: "Locations semaine en p√©riode scolaire, lieux sold√©s",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 6,
                    nom: "Villa F6 Petit Macabou",
                    prix_base: 2000,
                    prix_affiche: "2000‚Ç¨",
                    localisation: "Petit Macabou au Vauclin",
                    capacite: 13,
                    capacite_detail: "10 √† 13 personnes (14 max)",
                    type_logement: "3 chambres + 1 mezzanine + 2 studios",
                    equipements: "Piscine, climatisation, 3 bungalows suppl√©mentaires",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "09h-19h",
                    prix_periode: "Weekend: 2000‚Ç¨ | Semaine: 3220‚Ç¨",
                    disponibilites: "21/07-27/06 et 29/08-04/09",
                    caution: "2500‚Ç¨ par ch√®que",
                    conditions: "Mariage/Bapt√™me jusqu'150 convives, covoiturage",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 7,
                    nom: "Villa F7 Baie des Mulets",
                    prix_base: 2200,
                    prix_affiche: "2200‚Ç¨",
                    localisation: "Baie des Mulets, Vauclin",
                    capacite: 16,
                    capacite_detail: "16 personnes (F5 10 pers + F3 6 pers)",
                    type_logement: "Villa F7 avec F5 (4 chambres climatis√©es) + F3 (canap√©-lit dans le salon)",
                    equipements: "V√©randa salle √† manger bambou, coin d√©tente fauteuils suspendus, cuisine moderne √©quip√©e, 30 places parking, f√™te autoris√©e 09h-00h",
                    proximite_plage: "Baie des Mulets",
                    horaires: "Arriv√©e 11h, D√©part 13h, D√©part tardif 17h30 (+150‚Ç¨)",
                    prix_periode: "Weekend sans invit√©s: 2200‚Ç¨ | Semaine 7j sans invit√©s: 4200‚Ç¨ | +330‚Ç¨ jusqu'√† 30 convives | +550‚Ç¨ jusqu'√† 50 convives | +770‚Ç¨ jusqu'√† 80 convives | +1375‚Ç¨ jusqu'√† 160 convives",
                    disponibilites: "Location √† la journ√©e possible du lundi au jeudi selon disponibilit√©",
                    caution: "1500‚Ç¨ par ch√®que ou empreinte bancaire",
                    conditions: "Covoiturage recommand√©, paiement en plusieurs fois possible, lieux doivent √™tre sold√©s 72h avant l'entr√©e, √©v√©nements (EDV, journ√©e bien-√™tre avec massage, etc.) sur demande",
                    categorie: "sejour",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 8,
                    nom: "Villa F√™te Ducos",
                    prix_base: 375,
                    prix_affiche: "375‚Ç¨",
                    localisation: "Ducos",
                    capacite: 30,
                    capacite_detail: "5 √† 30 personnes selon formule",
                    type_logement: "Villa avec espaces de r√©ception ext√©rieurs",
                    equipements: "Piscine, bar ext√©rieur, terrasse couverte, salon rotin, gazebo",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "Formule 1: 10h-20h | Formule 2: 13h-18h",
                    prix_periode: "Formule 1: 375‚Ç¨-510‚Ç¨ | Formule 2: 260‚Ç¨-375‚Ç¨",
                    disponibilites: "Sur demande",
                    caution: "Non sp√©cifi√©",
                    conditions: "Enfants compt√©s √† partir de 6 ans, 12 places parking",
                    categorie: "fete",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 9,
                    nom: "Villa F√™te Fort-de-France",
                    prix_base: 100,
                    prix_affiche: "100‚Ç¨/h",
                    localisation: "Fort-de-France",
                    capacite: 80,
                    capacite_detail: "De 20 √† 80 personnes",
                    type_logement: "Villa coloniale de prestige avec vue panoramique",
                    equipements: "Piscine avec vue panoramique, statues Buddha d√©coratives, cuisine am√©nag√©e (four, micro-ondes, four semi-gastro, plaque de cuisson, √Ælot central, r√©frig√©rateur, √©vier), terrasse demi-couverte (250m¬≤), 2 suites √©quip√©es (douche √† jet, dressing), salle int√©rieure (80m¬≤)",
                    proximite_plage: "Non sp√©cifi√©",
                    horaires: "06h <> minuit",
                    prix_periode: "1-20 personnes: 100‚Ç¨/heure | 20-50 personnes: 125‚Ç¨/heure | 50-80 personnes: 150‚Ç¨/heure",
                    disponibilites: "√Ä partir de 100‚Ç¨/h",
                    caution: "Non sp√©cifi√©",
                    conditions: "Parking privatis√© pour 20 voitures, location de chaises 2‚Ç¨ et tables (180x80) 8‚Ç¨, prestation √† la carte, paiement en plusieurs fois sans frais possible, lieux doivent √™tre sold√©s avant l'entr√©e",
                    categorie: "fete",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                },
                {
                    id: 10,
                    nom: "Studio Cocooning Lamentin",
                    prix_base: 290,
                    prix_affiche: "290‚Ç¨",
                    localisation: "Morne Pitault, Lamentin",
                    capacite: 2,
                    capacite_detail: "2 personnes (couple)",
                    type_logement: "Studio avec bac √† punch priv√© (petite piscine)",
                    equipements: "Cuisine moderne √©quip√©e, jacuzzi/bac √† punch, vue panoramique, climatisation, mobilier design",
                    proximite_plage: "Hauteurs de Morne Pitault",
                    horaires: "Arriv√©e 16h, D√©part 11h (possibilit√© d√©part tardif selon disponibilit√©)",
                    prix_periode: "√Ä partir de 290‚Ç¨, tarif variable selon date, location minimum 2 nuits puis 3,4,5 nuits",
                    disponibilites: "Location UNIQUEMENT √† la SEMAINE en p√©riode vacances scolaires et haute saison",
                    caution: "Non sp√©cifi√©e",
                    conditions: "Pas d'invit√©s, paiement en plusieurs fois possible, lieux doivent √™tre sold√©s avant entr√©e",
                    categorie: "special",
                    photos: [
                        "https://gensparkstorageprodwest.blob.core.windows.net/web-drive/54341a45-da16-4d6c-aca3-03992a0b1d20/52e620a8-f6fa-451a-a4cc-4b817f44738e?se=2025-07-18T14%3A38%3A42Z&sp=r&sv=2025-05-05&sr=b&rscd=attachment%3B%20filename%3D%2201_piscine_principale.jpg%22&sig=vOYbQ64RZ/sgJUlHqcg18zYUixeVrjxNlkdf%2BJd4AVM%3D"
                    ]
                }
            ]
        };

        // Variables globales
        let currentVillaModal = null;
        let currentImageIndex = 0;
        let currentFilter = 'all';
        let guestCounts = { adults: 2, children: 0, babies: 0 };
        let autocompleteIndex = -1;
        
        // Destinations pour l'autocompl√©tion
        const destinations = [
            "Fort-de-France", "Sainte-Anne", "Le Fran√ßois", "Ducos", "Rivi√®re-Pilote",
            "Sainte-Luce", "Lamentin", "Vauclin", "Trinit√©", "Le Robert",
            "Petit Macabou", "Baie des Mulets", "Morne Pitault", "Quartier B√©l√®me",
            "Zac de Pont Caf√©", "Quartier Les Anglais", "Pointe Hyacinthe", "Cosmy",
            "Quartier La Ren√©e", "Quartier La Laugier", "Trenelle", "Ravine Plate"
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            loadVillas();
            setupEventListeners();
            setupAutocomplete();
            updateGuestsDisplay();
        });

        // Chargement des villas
        function loadVillas() {
            const villasGrid = document.getElementById('villasGrid');
            villasGrid.innerHTML = '';
            
            const villas = currentFilter === 'all' ? VILLAS_DATABASE.villas : VILLAS_DATABASE.villas.filter(villa => villa.categorie === currentFilter);
            
            villas.forEach(villa => {
                const villaCard = createVillaCard(villa);
                villasGrid.appendChild(villaCard);
            });
        }

        // Cr√©ation d'une carte villa
        function createVillaCard(villa) {
            const card = document.createElement('div');
            card.className = 'villa-card';
            card.onclick = () => openVillaModal(villa);
            
            const categoryIcon = villa.categorie === 'sejour' ? 'üèñÔ∏è' : villa.categorie === 'fete' ? 'üéâ' : 'üè†';
            
            card.innerHTML = `
                <div class="villa-category">${categoryIcon}</div>
                <img src="${villa.photos[0] || 'https://via.placeholder.com/300x200?text=Villa'}" alt="${villa.nom}" class="villa-image" onerror="this.src='https://via.placeholder.com/300x200?text=Villa'">
                <div class="villa-content">
                    <h3 class="villa-title">${villa.nom}</h3>
                    <p class="villa-location">${villa.localisation}</p>
                    <p class="villa-price">${villa.prix_affiche}${villa.categorie === 'fete' && villa.prix_affiche.includes('/h') ? '' : '/nuit'}</p>
                    <p class="villa-features">${villa.capacite_detail}</p>
                    <p class="villa-features">${villa.equipements}</p>
                    <button class="btn-primary" onclick="event.stopPropagation(); openVillaModal(${JSON.stringify(villa).replace(/"/g, '&quot;')})">Voir d√©tails</button>
                </div>
            `;
            
            return card;
        }

        // Filtrage des villas
        function filterVillas(category) {
            currentFilter = category;
            loadVillas();
            
            // Mise √† jour des boutons de filtre
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Recherche de villas
        function searchVillas() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const villasGrid = document.getElementById('villasGrid');
            villasGrid.innerHTML = '';
            
            let villas = currentFilter === 'all' ? VILLAS_DATABASE.villas : VILLAS_DATABASE.villas.filter(villa => villa.categorie === currentFilter);
            
            if (searchTerm) {
                villas = villas.filter(villa => 
                    villa.nom.toLowerCase().includes(searchTerm) ||
                    villa.localisation.toLowerCase().includes(searchTerm) ||
                    villa.equipements.toLowerCase().includes(searchTerm)
                );
            }
            
            villas.forEach(villa => {
                const villaCard = createVillaCard(villa);
                villasGrid.appendChild(villaCard);
            });
        }

        // Gestion des modales
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Modal villa
        function openVillaModal(villa) {
            currentVillaModal = villa;
            currentImageIndex = 0;
            
            document.getElementById('villaModalTitle').textContent = villa.nom;
            document.getElementById('villaModalLocation').textContent = villa.localisation;
            document.getElementById('villaModalPrice').textContent = villa.prix_affiche + (villa.categorie === 'fete' && villa.prix_affiche.includes('/h') ? '' : '/nuit');
            document.getElementById('villaModalDescription').textContent = villa.type_logement;
            document.getElementById('villaModalCapacity').textContent = villa.capacite_detail;
            document.getElementById('villaModalEquipments').textContent = villa.equipements;
            document.getElementById('villaModalHoraires').textContent = villa.horaires;
            document.getElementById('villaModalCaution').textContent = villa.caution;
            
            updateGalleryImage();
            document.getElementById('villaModal').classList.add('active');
        }

        function closeVillaModal() {
            document.getElementById('villaModal').classList.remove('active');
        }

        function updateGalleryImage() {
            if (currentVillaModal && currentVillaModal.photos.length > 0) {
                const img = document.getElementById('villaGalleryImage');
                img.src = currentVillaModal.photos[currentImageIndex] || 'https://via.placeholder.com/800x400?text=Villa';
                img.onerror = function() {
                    this.src = 'https://via.placeholder.com/800x400?text=Villa';
                };
            }
        }

        function nextImage() {
            if (currentVillaModal && currentVillaModal.photos.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % currentVillaModal.photos.length;
                updateGalleryImage();
            }
        }

        function prevImage() {
            if (currentVillaModal && currentVillaModal.photos.length > 0) {
                currentImageIndex = currentImageIndex === 0 ? currentVillaModal.photos.length - 1 : currentImageIndex - 1;
                updateGalleryImage();
            }
        }

        // Gestion des invit√©s
        function updateGuestsDisplay() {
            const { adults, children, babies } = guestCounts;
            let text = '';
            
            if (adults > 0) text += `${adults} adulte${adults > 1 ? 's' : ''}`;
            if (children > 0) text += `${text ? ' ¬∑ ' : ''}${children} enfant${children > 1 ? 's' : ''}`;
            if (babies > 0) text += `${text ? ' ¬∑ ' : ''}${babies} b√©b√©${babies > 1 ? 's' : ''}`;
            
            document.getElementById('guestsValue').textContent = text || 'Ajouter des voyageurs';
            document.getElementById('guestsValue').className = text ? 'search-field-value' : 'search-field-value placeholder';
            
            // Mise √† jour des compteurs
            document.getElementById('adultsCount').textContent = adults;
            document.getElementById('childrenCount').textContent = children;
            document.getElementById('babiesCount').textContent = babies;
            
            // Mise √† jour des boutons
            document.getElementById('adultsDecrement').disabled = adults <= 1;
            document.getElementById('childrenDecrement').disabled = children <= 0;
            document.getElementById('babiesDecrement').disabled = babies <= 0;
            document.getElementById('adultsIncrement').disabled = adults >= 10;
            document.getElementById('childrenIncrement').disabled = children >= 6;
            document.getElementById('babiesIncrement').disabled = babies >= 4;
        }

        function incrementGuests(type) {
            const maxValues = { adults: 10, children: 6, babies: 4 };
            if (guestCounts[type] < maxValues[type]) {
                guestCounts[type]++;
                updateGuestsDisplay();
            }
        }

        function decrementGuests(type) {
            const minValues = { adults: 1, children: 0, babies: 0 };
            if (guestCounts[type] > minValues[type]) {
                guestCounts[type]--;
                updateGuestsDisplay();
            }
        }

        function toggleGuestsDropdown() {
            const dropdown = document.getElementById('guestsDropdown');
            const isActive = dropdown.classList.contains('active');
            
            // Fermer tous les dropdowns
            document.querySelectorAll('.autocomplete-dropdown, .guests-dropdown').forEach(el => {
                el.classList.remove('active');
            });
            
            if (!isActive) {
                dropdown.classList.add('active');
                
                // Positionner le dropdown
                const field = document.querySelector('.guests-field');
                const rect = field.getBoundingClientRect();
                dropdown.style.top = (rect.bottom + 8) + 'px';
                dropdown.style.left = rect.left + 'px';
            }
        }

        // Gestion des dates
        function updateDateDisplay(type) {
            const input = document.getElementById(`${type}Date`);
            const display = document.getElementById(`${type}Value`);
            
            if (input.value) {
                const date = new Date(input.value);
                const options = { weekday: 'short', day: 'numeric', month: 'short' };
                display.textContent = date.toLocaleDateString('fr-FR', options);
                display.className = 'search-field-value';
            } else {
                display.textContent = 'Ajouter des dates';
                display.className = 'search-field-value placeholder';
            }
        }

        // Autocompl√©tion
        function setupAutocomplete() {
            const input = document.getElementById('destinationInput');
            const dropdown = document.getElementById('autocompleteDropdown');
            
            input.addEventListener('input', function() {
                const value = this.value.toLowerCase();
                dropdown.innerHTML = '';
                autocompleteIndex = -1;
                
                if (value.length > 0) {
                    const matches = destinations.filter(dest => 
                        dest.toLowerCase().includes(value)
                    );
                    
                    if (matches.length > 0) {
                        matches.forEach((dest, index) => {
                            const item = document.createElement('div');
                            item.className = 'autocomplete-item';
                            item.innerHTML = `
                                <i class="fas fa-map-marker-alt location-icon"></i>
                                <span class="destination-name">${dest}</span>
                                <span class="destination-detail">Martinique</span>
                            `;
                            item.onclick = () => selectDestination(dest);
                            dropdown.appendChild(item);
                        });
                        dropdown.classList.add('active');
                    } else {
                        dropdown.classList.remove('active');
                    }
                } else {
                    dropdown.classList.remove('active');
                }
            });
            
            input.addEventListener('keydown', function(e) {
                const items = dropdown.querySelectorAll('.autocomplete-item');
                
                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    autocompleteIndex = Math.min(autocompleteIndex + 1, items.length - 1);
                    updateAutocompleteSelection(items);
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    autocompleteIndex = Math.max(autocompleteIndex - 1, -1);
                    updateAutocompleteSelection(items);
                } else if (e.key === 'Enter') {
                    e.preventDefault();
                    if (autocompleteIndex >= 0 && items[autocompleteIndex]) {
                        const dest = items[autocompleteIndex].querySelector('.destination-name').textContent;
                        selectDestination(dest);
                    }
                } else if (e.key === 'Escape') {
                    dropdown.classList.remove('active');
                    autocompleteIndex = -1;
                }
            });
        }

        function updateAutocompleteSelection(items) {
            items.forEach((item, index) => {
                item.classList.toggle('selected', index === autocompleteIndex);
            });
        }

        function selectDestination(destination) {
            document.getElementById('destinationInput').value = destination;
            document.getElementById('autocompleteDropdown').classList.remove('active');
            autocompleteIndex = -1;
        }

        // Recherche booking
        function performBookingSearch() {
            const destination = document.getElementById('destinationInput').value;
            const checkin = document.getElementById('checkinDate').value;
            const checkout = document.getElementById('checkoutDate').value;
            
            // Filtrer les villas par destination si sp√©cifi√©e
            if (destination) {
                const filtered = VILLAS_DATABASE.villas.filter(villa => 
                    villa.localisation.toLowerCase().includes(destination.toLowerCase())
                );
                
                const villasGrid = document.getElementById('villasGrid');
                villasGrid.innerHTML = '';
                
                filtered.forEach(villa => {
                    const villaCard = createVillaCard(villa);
                    villasGrid.appendChild(villaCard);
                });
                
                // Afficher message si aucun r√©sultat
                if (filtered.length === 0) {
                    villasGrid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">Aucune villa trouv√©e pour cette destination.</p>';
                }
            }
            
            // Afficher notification
            showNotification('Recherche effectu√©e !', 'success');
        }

        // Calcul du prix total
        function calculateTotal() {
            const checkin = document.getElementById('bookingCheckin').value;
            const checkout = document.getElementById('bookingCheckout').value;
            const guests = parseInt(document.getElementById('bookingGuests').value);
            const type = document.getElementById('bookingType').value;
            
            if (!checkin || !checkout || !currentVillaModal) return;
            
            const checkinDate = new Date(checkin);
            const checkoutDate = new Date(checkout);
            const nights = Math.ceil((checkoutDate - checkinDate) / (1000 * 60 * 60 * 24));
            
            if (nights <= 0) return;
            
            let pricePerNight = currentVillaModal.prix_base;
            let total = 0;
            
            if (type === 'weekend') {
                total = pricePerNight * nights;
            } else if (type === 'semaine') {
                total = pricePerNight * nights * 0.9; // 10% de r√©duction
            } else {
                total = pricePerNight * nights;
            }
            
            // Suppl√©ment pour invit√©s suppl√©mentaires
            if (guests > currentVillaModal.capacite) {
                total += (guests - currentVillaModal.capacite) * 50 * nights;
            }
            
            document.getElementById('bookingSummary').innerHTML = `
                <strong>${nights} nuit${nights > 1 ? 's' : ''}</strong><br>
                ${guests} personne${guests > 1 ? 's' : ''}<br>
                ${type.charAt(0).toUpperCase() + type.slice(1)}
            `;
            
            document.getElementById('bookingTotal').textContent = `Total: ${total.toFixed(0)}‚Ç¨`;
        }

        // Soumission de r√©servation
        function submitBooking() {
            const checkin = document.getElementById('bookingCheckin').value;
            const checkout = document.getElementById('bookingCheckout').value;
            const guests = document.getElementById('bookingGuests').value;
            
            if (!checkin || !checkout) {
                showNotification('Veuillez s√©lectionner vos dates', 'error');
                return;
            }
            
            // Simuler l'envoi de r√©servation
            showNotification('Demande de r√©servation envoy√©e !', 'success');
            closeVillaModal();
            
            // Ici vous pourriez ajouter l'envoi vers votre backend
            console.log('R√©servation:', {
                villa: currentVillaModal.nom,
                checkin,
                checkout,
                guests
            });
        }

        // Navigation entre sections
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // Mise √† jour du menu
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
        }

        // Menu mobile
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('active');
        }

        // Notifications
        function showNotification(message, type = 'info') {
            const indicator = document.getElementById('syncIndicator');
            const text = document.getElementById('syncText');
            
            indicator.className = `sync-indicator ${type}`;
            text.textContent = message;
            
            setTimeout(() => {
                indicator.classList.remove(type);
            }, 3000);
        }

        // Event listeners
        function setupEventListeners() {
            // Fermer les dropdowns en cliquant ailleurs
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.guests-field') && !e.target.closest('.destination-autocomplete')) {
                    document.querySelectorAll('.autocomplete-dropdown, .guests-dropdown').forEach(el => {
                        el.classList.remove('active');
                    });
                }
            });
            
            // Formulaires
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                showNotification('Connexion r√©ussie !', 'success');
                closeModal('loginModal');
            });
            
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                showNotification('Inscription r√©ussie !', 'success');
                closeModal('registerModal');
            });
            
            document.getElementById('contactForm').addEventListener('submit', function(e) {
                e.preventDefault();
                showNotification('Message envoy√© !', 'success');
                closeModal('contactModal');
            });
            
            // Navigation clavier pour la galerie
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('villaModal').classList.contains('active')) {
                    if (e.key === 'ArrowLeft') {
                        prevImage();
                    } else if (e.key === 'ArrowRight') {
                        nextImage();
                    } else if (e.key === 'Escape') {
                        closeVillaModal();
                    }
                }
            });
        }

        // Initialisation finale
        window.addEventListener('load', function() {
            showNotification('Interface synchronis√©e !', 'success');
        });
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDo%2FdS02okHwC0iF3YPhhrWumD%2BGmbQqUaViv47d3Y%2BfhJmRAea%2BWRpExaJryV7P0LaFwrUVVIxZXpo7u7PqOz3EunfAzh5HIkx%2BlL0Yn9iTXY002d9V959L9%2FXOKSo%2FyX5lYHAYcGenVMgKcNodlnjdYPuBLB7GOcBrUyzp4hnZQrBRKInm90tKJvDXfT3ouUP6QoytJa9Aqb3lfsTfogtMIZwrh8wK92Hj2RYhx0TIzVGFfrVwSKrxv91%2B7rpxhpUwbD0NGfuz0n2CE58x3VRGxBn03LkjmxYqYX2ORkZ%2BbjJ766ydvqZC1D2rcQzxsM5f%2F4mkSf7ylLMH%2FxthQgAw0WqJA0A2qTNMBMWIDZlRp9sZypnpYkmS30DNl79oTT8ZjnojSOs2K7egFiNJJ0cpwe1zNzLCpd%2B%2BbctI6oGI7b181zvh2WxPGXmcrKtrr1G1VmLb0QYBdQc0fsNIdClC8wWVI8e9Y5EmQ2Jar45%2FZLa6oODhpLRP2Yq%2FXxH6zoQ0RH40gcTHyMsc0nM0VBaU%3D";
        window.__genspark_locale = "fr-FR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDo/dS02okHwC0iF3YPhhrWumD+GmbQqUaViv47d3Y+fhJmRAea+WRpExaJryV7P0LaFwrUVVIxZXpo7u7PqOz3EunfAzh5HIkx+lL0Yn9iTXY002d9V959L9/XOKSo/yX5lYHAYcGenVMgKcNodlnjdYPuBLB7GOcBrUyzp4hnZQrBRKInm90tKJvDXfT3ouUP6QoytJa9Aqb3lfsTfogtMIZwrh8wK92Hj2RYhx0TIzVGFfrVwSKrxv91+7rpxhpUwbD0NGfuz0n2CE58x3VRGxBn03LkjmxYqYX2ORkZ+bjJ766ydvqZC1D2rcQzxsM5f/4mkSf7ylLMH/xthQgAw0WqJA0A2qTNMBMWIDZlRp9sZypnpYkmS30DNl79oTT8ZjnojSOs2K7egFiNJJ0cpwe1zNzLCpd++bctI6oGI7b181zvh2WxPGXmcrKtrr1G1VmLb0QYBdQc0fsNIdClC8wWVI8e9Y5EmQ2Jar45/ZLa6oODhpLRP2Yq/XxH6zoQ0RH40gcTHyMsc0nM0VBaU=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
