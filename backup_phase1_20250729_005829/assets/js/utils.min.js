
// PROTECTION IMAGES/VIDÉOS - NE PAS SUPPRIMER
function protectMediaElements() {
    const mediaElements = document.querySelectorAll('img, video');
    mediaElements.forEach(element => {
        element.setAttribute('data-protected', 'true');
    });
}

// Protéger avant toute modification DOM
if (typeof MutationObserver !== 'undefined') {
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList') {
                // Vérifier que les éléments média ne sont pas supprimés
                mutation.removedNodes.forEach(function(node) {
                    if (node.nodeType === 1 && (node.tagName === 'IMG' || node.tagName === 'VIDEO')) {
                        console.warn('⚠️ Tentative de suppression d\'élément média détectée:', node);
                    }
                });
            }
        });
    });
    
    observer.observe(document.body, {
        childList: true,
        subtree: true
    });
}


function showNotification(message,type='info'){console.log(`[${type.toUpperCase()}] ${message}`);}function validateEmail(email){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email);}function formatPrice(price){return new Intl.NumberFormat('fr-FR',{style: 'currency',currency: 'EUR'}).format(price);}function initUniversalVideoBackground(){const video=document.querySelector('#backgroundVideo,.video-background video');if(video){video.muted=true;video.loop=true;video.play().catch(()=> console.log('Autoplay bloqué'));}}document.addEventListener('DOMContentLoaded',initUniversalVideoBackground);